Feature: Restricted site support  # features/precondition-level-2.feature
    As a user of AwesomeSite
    I want to restrict my personal sites
    to specific users.

    @precondition(precondition-level-1.feature: Grant access to personal site)
    Scenario: Deny access to personal site
      As Precondition from precondition-level-1.feature: Grant access to personal site
        Given a user named Bruce
[A[K        Given a user named Bruce
        And a user named Peter
[A[K        And a user named Peter
        And a user named Tony
[A[K        And a user named Tony
        And a personal site owned by Bruce
[A[K        And a personal site owned by Bruce
        Given Bruce grants access to Tony
[A[K        Given Bruce grants access to Tony
        When I'm logged in as Tony
[A[K        When I'm logged in as Tony
        Then I can access Bruce personal site
[A[K        Then I can access Bruce personal site
      From Scenario
        Given Bruce grants access to Tony
[A[K        Given Bruce grants access to Tony
        When I'm logged in as Peter
[A[K        When I'm logged in as Peter
        Then I cannot access Bruce personal site
[A[K        Then I cannot access Bruce personal site

1 features (1 passed)
1 scenarios (1 passed)
3 steps (3 passed)
Run test-marker finished within a moment
